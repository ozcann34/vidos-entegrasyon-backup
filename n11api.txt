n11 RestAPI Entegrasyon Servisleri

Ürün Servisleri

Ürün Yükleme (CreateProduct)
Ürün Fiyat-Stok Güncelleme (UpdateProductPriceAndStock)
Ürün Bilgisi Güncelleme (UpdateProduct)
Task Detail Sorgulama (TaskDetails)
Satıcı Ürünlerini Listeleme (GetProductQuery)


Kategori Servisleri

Kategori Ağacı Listeleme (GetCategories)
Kategori Özellikleri Listeleme (GetCategoryAttributesList)

Sipariş Servisleri

Sipariş Listeleme (GetShipmentPackages)
Sipariş Kalemlerini Güncelleme (UpdateOrder)
Paket Bölme (SplitPackages)
Sipariş Kalemi İşçilik Bedeli ekleme

-Sorularınızı ve takıldığınız alanları sellerintegration@n11.com adresine mail yoluyla iletebilirsiniz.

Ürün Yükleme (CreateProduct)
POST https://api.n11.com/ms/product/tasks/product-create 
Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
Tek seferde maximum 1000 sku için güncelleme atabilirsiniz.
İsteğinizi json formatında body de raw olarak ve aşağıdaki örnek desende iletiniz.
HTTP isteğinizi 'POST' methoduyla ilgili endpoint'e gönderin.
Servise yapılan her başarılı istek için response’ta ID (taskId) değeri dönmektedir. TaskDetail servisi ile yapılan işlemin kontrolü sağlanabilir.
Dikkat Edilmesi Gerekenler;
GetCategoryAttributesList servisinden mandatory>true dönen ürün özellik değeri zorunludur.
GetCategoryAttributesList servisinden customValue>false dönen ürün özelliği için yine aynı servisten dönen valueId değeri ile yazılmalıdır. 
GetCategoryAttributesList servisinden customValue>true döner ise ister valueId ister customValue değerini free text yazabilirsiniz.
GetCategoryAttributesList servisinden Slicer>true döner ise ürünlere aynı productMainId eklenirse aynı sayfada ürün görseliyle seçenekli şeklinde gözükür. Bu değeri bilgi amaçlı kullanabilirsiniz.
GetCategoryAttributesList servisinden Variant>true döner ise ürünlere aynı productMainId eklenirse aynı sayfada ürün seçeneği şeklinde gözükür.
Ürün görsel boyutu maksimum 10 MB ( 10.240 KB ) olmalıdır.
CreateProduct servisinde gönderilen barcode alanı n11 kataloğundaki bir barkod ile eşleşir ve kategori değeri n11 kataloğunda farklı ise, ürün satıcı panelinden Aksiyon Bekleyenler > Satıcı Onay Bekliyor statüsünde listelenip satıcı tarafından onaylanması beklenecektir.

Parametre(İstek)	Zorunlu	Açıklama	Veri Tipi
integrator	Evet	API Kullanıcı/Entegratör Firma ismini yazınız.Tüm gönderimlerinizde aynı ismi iletiniz.	string
title	Evet	Ürün ismi, Marka-cinsiyet renk veye ürün bilgisini eklerek yazabilirsiniz.	string
description	Evet	Ürüne ait açıklamaları ekleyiniz.	HTML-string
categoryId	Evet	GetCategories servisinden aldığınız kategorinin en alt kırılım id değerini yazınız	long
currencyType	Evet	Fiyatlandırmanızı TL, USD, EUR para birimlerini kullanabilirsiniz.USD ve EUR para birimi Merkez Bankası kur oranına göre güncellenir.	string
productMainId	Evet	Ürüne ait tüm modelleri için aynı id yazınız.Varyantlı ürün açmak için Renk ve Beden tüm değeri için aynı değer eklenmelidir. Bu renkleri aynı sayfada toplarken bedenleri varyantlı açılmasını sağlar. 	string
preparingDay	Evet	Ürünün kargoya verilmesi için gereken süre anlamına gelmektedir.	integer
shipmentTemplate	Evet	Hesabım>Teslimat Bilgilerimden oluşturduğunuz kargo şablon ismini yazınız.	 
maxPurchaseQuantity	Hayır	Maksimum tekil alıcı başına eklenen satın alım adetidir.	integer
stockCode	Evet	Ürüne ait belirlediğiniz uniq değerlerdir.Stok-fiyat güncellemeleriniz stokcode'a göre yapmanız gerekmektedir. Maksimum değeri 255	string
catalogId	Hayır	n11'in katalogundaki id değeridir. 	long
barcode	Hayır	gönderim yapılan değeri hata vermeden sadece ulusal barkodları kaydedilir.n11 katalogundaki barkod eşleştirebilmesi için yazılır.	string
quantity	Evet	Stok miktarı.Maksimum değer 999.999	integer
images/url/order	Evet	Ürün görsellerine ait URL adresi listesidir.Parametresi ile Görsel url adresleri SSL sertifikalı "https" formatında adresler olmalıdır. Order parametresi ile görsel sırasını yazınız 	string
attributes	Evet	Ürünün kategori özellik bilgilerini yazınız. Kategori özellik servisindeki Mandatory>true olan değerini yazmak zorunludur. 	string
attributesid	Evet	Kategori özellik servisindeki özellik id değerini ekleyiniz.	long
valueId	Evet	Kategori özellik servisindeki CustomValue>false ise valueId yazılmalıdır.	long
customValue	Evet	Kategori özellik servisindeki CustomValue>true ise free değer yazabilirsiniz.	string
salePrice	Evet	Ürün satış fiyatı 	amount 
listPrice	Evet	Ürün liste fiyatı(Satış fiyatı düşük olunca üstü çizilen fiyat) PSF	amount 
vatRate	Evet	Ürün KDV oranı 0,1,10,20 değerlerini alabilir	integer


Parametre(Cevap)	Açıklama	Veri Tipi
id	Taskdetail'de bu idye göre sorulanmalıdır.	long
type	Güncelleme (SKU_UPDATE) veye Yükleme(PRODUCT_CREATE) tasklı olduğu anlaşılır	string
status	IN_QUEUE (Task İşleniyor, Taskdetail'den sorgulayınız.) ve REJECT (Task İşlenmemiştir . Reasons alanını kontrol ediniz.)	string
reasons	Status bilgisine göre nedenler yazmaktadır.	list of string

Tekil Ürün Yükleme (Varyantsız ) 
Örnek Request
{
    "payload": {
        "integrator": "Entegratör isminizi yazınız",
        "skus": [
            {
                "title": "Realme C55 8 GB 256 GB (Realme Türkiye Garantili) md0123278",
                "description": "BB test test",
                "categoryId": 1000476,
                "currencyType": "TL",
                "productMainId": "test1",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "md01g4141",
                "catalogId": null,
                "barcode": 8806094924862,
                "quantity": 10,
                "images": [
                    {
                        "url": "https://n11scdn.akamaized.net/a1/602_857/15/94/31/26/IMG-4582034240738960980.jpg",
                        "order": 1
                    },
                    {
                        "url": "https://images.secretlab.co/theme/common/collab_pokemon_catalog_charizard-min.png",
                        "order": 0
                    }
                ],
                "attributes": [
                    {
                        "id": 1,
                        "valueId": null,
                        "customValue": "Realme"
                    },
                    {
                        "id": 911,
                        "valueId": 444058,
                        "customValue": “null”
                    },
                    {
                        "id": 1302,
                        "valueId": 587473,
                        "customValue": “null”
                    },
                    {
                        "id": 429,
                        "valueId": null,
                        "customValue": "Beyaz"
                    }
                ],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10
            }
        ]
    }
}
Örnek Response
{
   "id": 1092,
   "type": "PRODUCT_CREATE",
   "status": "IN_QUEUE",
   "reasons": [
       "1 sku işlenmeye alındı."
   ]
}

Create Product Varyantlı ve Aynı Modele Ait Ürün Yükleme

GetCategoryAttributesList Servisinden variant true değerli ürünlerde aynı productMainId değeri yüklediğinizdeList ürün varyantlı açılacaktır
GetCategoryAttributes Servisinden slicer true değerli için productMainId değeri yüklediğinizde ürün varyantlı açılacaktır


Örnek Request

{
    "payload": {
        "integrator": "Entegratör İsmini yazınız ",
        "skus": [
            {
                "title": "Bisiklet Yaka Çicek Desenli Elbise Mavi A11-2",
                "description": "B5555544",
                "categoryId": 1209218,
                "currencyType": "TL",
                "productMainId": "1122",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "22211112S",
                "catalogId": null,
                "barcode": null,
                "quantity": 10,
                "images": [
                    {
                        "url": "https://n11scdn.akamaized.net/a1/602_857/15/94/31/26/IMG-4582034240738960980.jpg",
                        "order": 0
                    },
                    {
                        "url": "https://images.secretlab.co/theme/common/collab_pokemon_catalog_charizard-min.png",
                        "order": 1
                    }
                ],
                "attributes": [
                    {
                        "id": 1,
                        "valueId": null,
                        "customValue": "Mağaza7"
                    },
                    {
                        "id": 429,
                        "valueId": null,
                        "customValue": "Mavi"
                    },
                    {
                        "id": 220,
                        "valueId": 6397019,
                        "customValue": "null"
                    },
                    {
                        "id": 1493,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1272,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1236,
                        "valueId": 9619686,
                        "customValue": "null"
                    },
                    {
                        "id": 6791,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 394,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 5368,
                        "valueId": 4094199,
                        "customValue": "null"
                    },
                    {
                        "id": 22,
                        "valueId": 4093865,
                        "customValue": "null"
                    },
                    {
                        "id": 1494,
                        "valueId": 4093868,
                        "customValue": "null"
                    }
                ],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10
            },
            {
                "title": "Bisiklet Yaka Çicek Desenli Elbise Mavi A11-2",
                "description": "B5555544",
                "categoryId": 1209218,
                "currencyType": "TL",
                "productMainId": "1122",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "22211112M",
                "catalogId": null,
                "barcode": null,
                "quantity": 10,
                "images": [
                    {
                        "url": "https://n11scdn.akamaized.net/a1/602_857/15/94/31/26/IMG-4582034240738960980.jpg",
                        "order": 0
                    },
                    {
                        "url": "https://images.secretlab.co/theme/common/collab_pokemon_catalog_charizard-min.png",
                        "order": 1
                    }
                ],
                "attributes": [
                    {
                        "id": 1,
                        "valueId": null,
                        "customValue": "Mağaza7"
                    },
                    {
                        "id": 429,
                        "valueId": null,
                        "customValue": "Mavi"
                    },
                    {
                        "id": 220,
                        "valueId": 6397019,
                        "customValue": "null"
                    },
                    {
                        "id": 1493,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1272,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1236,
                        "valueId": 9619686,
                        "customValue": "null"
                    },
                    {
                        "id": 6791,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 394,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 5368,
                        "valueId": 4094199,
                        "customValue": "null"
                    },
                    {
                        "id": 22,
                        "valueId": 4093865,
                        "customValue": "null"
                    },
                    {
                        "id": 1494,
                        "valueId": 4093852,
                        "customValue": "null"
                    }
                ],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10

            },
            {
                "title": "Bisiklet Yaka Çicek Desenli Elbise Yeşil A11-2",
                "description": "B5555544",
                "categoryId": 1209218,
                "currencyType": "TL",
                "productMainId": "1122",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "222111121S",
                "catalogId": null,
                "barcode": "null",
                "quantity": 10,
                "images": [
                    {
                        "url": "https://n11scdn.akamaized.net/a1/602_857/15/94/31/26/IMG-4582034240738960980.jpg",
                        "order": 0
                    },
                    {
                        "url": "https://images.secretlab.co/theme/common/collab_pokemon_catalog_charizard-min.png",
                        "order": 1
                    }
                ],
                "attributes": [
                    {
                        "id": 1,
                        "valueId": null,
                        "customValue": "Mağaza7"
                    },
                    {
                        "id": 429,
                        "valueId": null,
                        "customValue": "Yeşil"
                    },
                    {
                        "id": 220,
                        "valueId": 6397019,
                        "customValue": "null"
                    },
                    {
                        "id": 1493,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1272,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1236,
                        "valueId": 9619686,
                        "customValue": "null"
                    },
                    {
                        "id": 6791,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 394,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 5368,
                        "valueId": 4094199,
                        "customValue": "null"
                    },
                    {
                        "id": 22,
                        "valueId": 4093865,
                        "customValue": "null"
                    },
                    {
                        "id": 1494,
                        "valueId": 4093868,
                        "customValue": "null"
                    }
                ],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10

            },
            {
                "title": "Bisiklet Yaka Çicek Desenli Elbise Mavi A11-2",
                "description": "B5555544",
                "categoryId": 1209218,
                "currencyType": "TL",
                "productMainId": "1122",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "222111121M",
                "catalogId": null,
                "barcode": null,
                "quantity": 10,
                "images": [
                    {
                        "url": "https://n11scdn.akamaized.net/a1/602_857/15/94/31/26/IMG-4582034240738960980.jpg",
                        "order": 0
                    },
                    {
                        "url": "https://images.secretlab.co/theme/common/collab_pokemon_catalog_charizard-min.png",
                        "order": 1
                    }
                ],
                "attributes": [
                    {
                        "id": 1,
                        "valueId": null,
                        "customValue": "Mağaza7"
                    },
                    {
                        "id": 429,
                        "valueId": null,
                        "customValue": "Yeşil"
                    },
                    {
                        "id": 220,
                        "valueId": 6397019,
                        "customValue": "null"
                    },
                    {
                        "id": 1493,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1272,
                        "valueId": 6179186,
                        "customValue": "null"
                    },
                    {
                        "id": 1236,
                        "valueId": 9619686,
                        "customValue": "null"
                    },
                    {
                        "id": 6791,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 394,
                        "valueId": 6753182,
                        "customValue": "null"
                    },
                    {
                        "id": 5368,
                        "valueId": 4094199,
                        "customValue": "null"
                    },
                    {
                        "id": 22,
                        "valueId": 4093865,
                        "customValue": "null"
                    },
                    {
                        "id": 1494,
                        "valueId": 4093852,
                        "customValue": "null"
                    }
                ],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10

            }
        ]
    }
}
Hızlı Ürün Yükleme
SearchCatalog servisinden dönen n11'e kayıtlı catalogId ya da barcode alanını bu serviste gönderebilirsiniz.
Dönen task id bilgisi ile TaskDetails servisinden işlem sonucunu kontrol edebilirsiniz.
Ürün bazlı shipmentTemplate (kargo şablon adı) gönderilmelidir.
attributes ve images alanı [ ] şeklinde kapalı köşeli parantez ile gelmelidir ( zorunlu ).
Request içerisinde barcode ya da catalogId alanı zorunludur, her ikisi de dolu ise cataogId öncelikli baz alınacaktır.
n11 kataloğundan eşleşen üründe kataloga kayıtlı açıklama alanı var ise n11 açıklaması ürüne eklenecektir, katalog açıklama yok ise Request içerisinde gelen description alanı baz alınacaktır.
barcode ile gönderimde, gönderilen barcode değerine sahip ürünün n11 kategorisi ile Request içerisinde gelen categoryId alanı farklı ise ürün satıcı panelinde Aksiyon Bekleyenler > Satıcı Onayı Bekliyor statüsü ile kayıt edilecektir, bu durumda satıcı panelinden ürün içerisine girip onay vererek ürünü satışa açabilirsiniz.
Örnek Request
{
    "payload": {
        "integrator": "Entegratör isminizi yazınız",
        "skus": [
            {
                "description": "BB test test",
                "categoryId": 1000476,
                "productMainId": "test1",
                "preparingDay": 3,
                "shipmentTemplate": "1",
                "maxPurchaseQuantity": 5,
                "stockCode": "md01g4141",
                "catalogId": null,
                "barcode": 8806094924862,
                "quantity": 10,
                "images": [],
                "attributes": [],
                "salePrice": 2000,
                "listPrice": 2200,
                "vatRate": 10
            }
        ]
    }
}
Ürün Fiyat-Stok Güncelleme (UpdateProductPriceAndStock)
POST https://api.n11.com/ms/product/tasks/price-stock-update 
Bu servis kullanılarak ürünlerin fiyat ve stok bilgisini güncelleyebilirsiniz.

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
Tek seferde maximum 1000 sku için güncelleme atabilirsiniz.
İsteğinizi json formatında body de raw olarak iletmeniz gerekir.
HTTP isteğinizi 'POST' methoduyla ilgili endpoint'e gönderin.
JSON dosyanızı iletilen örnek desen formatında hazırlayın.
Servise yapılan her başarılı istek için response’ta ID (taskId) değeri dönmektedir.  TaskDetail servisi ile  yapılan işlemin kontrolü sağlanabilir.
Fiyat güncellemelerinde listPrice ve salePrice parametreleri birlikte gönderilmelidir.
listPrice ve salePrice değerlerinde küsurat bilgisi nokta ile ayrılmalıdır. Virgül kullanımı hata alınmasına sebebiyet verecektir.
listPrice ve salePrice değerlerinde küsurat noktadan sonra 2 hane iletilmelidir. Aksi takdirde isteğiniz REJECT alacaktır. 
Sadece fiyat veya sadece stok güncellemesi yapılacak ise istekte güncellemek istemediğiniz alanları göndermeyebilirsiniz. İstekte mevcut olmayan alanlar için herhangi bir update yapılmayacaktır. Burada dikkat edilmesi gereken nokta fiyat güncellemelerinde listPrice ve salePrice'ın birlikte gönderilmesi gerektiğidir.
listPrice ve salePrice değerini aynı değer gönderebilirsiniz. listPrice, salePrice'dan yüksek olmalıdır. Aksi takdirde isteğiniz REJECT alacaktır. 



Request Parametre	Zorunluluk	Açıklama	Veri Tipi
integrator	Evet	Entegratör ve API kullanıcısının verilebilecek özel ismi. Tüm gönderimlerinizde aynı değer kullanmanızı rica ederiz.	string
stockCode	Evet	Tedarikçinin ürüne belirlediği uniq kod. Ürünler (SKU) ile ilgili güncellemeleri bu değeri zorunlu olarak göndermelisiniz.	string
listPrice	Hayır	Ürün liste fiyatı (Satış fiyatı düşük olunca üstü çizilen fiyat) PSF.	number
salePrice	Hayır	Ürün satış fiyatı TSF.	number
quantity	Hayır	Stok miktarı.	integer
currencyType	Hayır	Ürün liste fiyatı para birimi. Alınan değerler TL, USD ve EUR olabilir.	text



Response Status	Açıklama
IN_QUEUE	İlettiğiniz task kuyrukta bekmektedir.Task Detail Servisinden taskid ile sorgulayabilirsiniz.
REJECT	Veri seti yüklenmediğinde doğrudan reason parametresi ile açıklamasını iletilmektedir.





Örnek Request



{
  "payload": {
    "integrator": "Entegratör isminizi yazınız",
    "skus": [
      {
        "stockCode": "test_variant_ea1_1",
        "listPrice": 2000,
        "salePrice": 1600,
        "quantity": 2,
        "currencyType": "TL"
      },
      {
        "stockCode": "test_variant_ea1_2",
        "listPrice": 2200,
        "salePrice": 1800,
        "quantity": 1,
        "currencyType": "TL"
      }

    ]
  }
}

Örnek Response
{
   "id": 1092,
   "type": "SKU_UPDATE",
   "status": "IN_QUEUE",
   "reasons": [
       "1 sku işlenmeye alındı."
   ]
}




Ürün Bilgisi Güncelleme (UpdateProduct)
POST https://api.n11.com/ms/product/tasks/product-update 
Bu servis kullanılarak ürün bilgilerinizi güncelleyebilirsiniz.

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
Tek seferde maximum 1000 sku için güncelleme atabilirsiniz.
İsteğinizi json formatında body de raw olarak iletmeniz gerekir.
HTTP isteğinizi 'POST' methoduyla ilgili endpoint'e gönderin.
JSON dosyanızı iletilen örnek desen formatında hazırlayın.
Servise yapılan her başarılı istek için response’ta ID (taskId) değeri dönmektedir.  TaskDetail servisi ile  yapılan işlemin kontrolü sağlanabilir.
Ürün gruplaması yapmak için productMainId değeri iletilmelidir.
productMainId değeri güncellenmek isteniyorsa deleteProductMainId değeri True aktarılmalı ve yeni değer productMainId parametresi ileiletilmelidir. deleteProductMainId parametresinin False gönderildiği durumda herhangi bir güncelleme olmayacaktır.
Ürün maximum satış adedi maxPurchaseQuantity parametresi ile iletilmelidir. Bu parametrenin güncellenebilmesi için deleteMaxPurchaseQuantity parametresi True aktarılmalıdır. deleteMaxPurchaseQuantity parametresinin False gönderildiği durumda herhangi bir güncelleme olmayacaktır.
 

Request Parametre	Zorunluluk	Açıklama	Veri Tipi
integrator	Evet	Entegratör ve API kullanıcısının verilebilecek özel ismi. Tüm gönderimlerinizde aynı değer kullanmanızı rica ederiz.	string
stockCode	Evet	Tedarikçinin ürüne belirlediği uniq kod. Ürünler (SKU) ile ilgili güncellemeleri bu değeri zorunlu olarak göndermelisiniz.	string
status	Hayır	Ürünün satışta olup olmadığını belirtir. Satışta olması isteniyorsa "Active" yazılır, ürünü satıştan çekmek için "Suspended" yazılır.	string
preparingDay	Hayır	Ürün bazlı kargoya gönderim süresini belirtir. 0'dan büyük bir değer girilmelidir.	integer
shipmentTemplate	Hayır	Satıcı Panelinde Hesabım > Teslimat Bilgileri alanından oluşturulan "Şablon Adı" başlığında belirtilen değeri yazabilirsiniz.	string
currencyType	Hayır	Ürün liste fiyatı para birimi. Alınan değerler TL, USD ve EUR olabilir.	string
deleteProductMainId	Hayır	Ana ürün kodunu (productMainId ) silmek isterseniz "True" değerini ekleyiniz. Alabildiği değerler: True, False	boolean
productMainId	Hayır	Ana ürün kodudur. Aynı modele ait ürün özelliklerini birleştirir.	string
deleteMaxPurchaseQuantity	Hayır	Maksimum satın alım değerini (maxPurchaseQuantity) silmek isterseniz "True" değerini ekleyiniz. Alabildiği değerler: True, False	boolean
maxPurchaseQuantity	Hayır	Ürüne toplu alışveriş yapılmaması isteniyorsa, ürün bazlı maksimum kaç adet satın alınabileceğini belirtir.	integer
description	Hayır	Ürün açıklaması	string
vatRate	Evet	Ürün KDV oranı 0,1,10,20 değerlerini alabilir	integer

Response Status	Açıklama
IN_QUEUE	İlettiğiniz task kuyrukta bekmektedir.Task Detail Servisinden taskid ile sorgulayabilirsiniz.
REJECT	Veri seti yüklenmediğinde doğrudan reason parametresi ile açıklamasını iletilmektedir.


Örnek Request
    
{
    "payload": {
        "integrator": "Entegratör İsmini yazabilirsiniz",
        "skus": [
          {
            "stockCode": "xyz-1",
            "status": "Active",
            "preparingDay": 3,
            "shipmentTemplate": "STANDART",
            "deleteProductMainId": true,
            "productMainId": "ea_v_xyz",
            "deleteMaxPurchaseQuantity": false,
            "maxPurchaseQuantity": 3,
            "description": "Test Ürün Açıklaması"

          }

        ]
    }
}


Örnek Response

{
   "id": 1092,
   "type": "PRODUCT_UPDATE",
   "status": "IN_QUEUE",
   "reasons": [
       "1 sku işlenmeye alındı."
   ]
}





Task Detail Sorgulama (TaskDetails)

POST https://api.n11.com/ms/product/task-details/page-query

UpdateProduct ve UpdateProductPriceAndStock servislerine yapılan her başarılı istek için response’ta id(taskId)  değeri dönmektedir. Bu ID değerini requestte taskid'ye yazınız.Servis ile ilgili işlem için itemCode bazlı sonuçları alınmaktadır.

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
İsteğinizi json formatında body de raw olarak iletmeniz gerekir.
Response’da yer alan itemCode değeri stock kodunu ifade eder. Status, Fail ve SUCCESS değerlerini alımaktadır. Sku alanında güncelleme alanın sonucunu görmektesiniz.
Task işlenmesi bitti ise  "status": "PROCESSED" değerinden alabilirsiniz.Buradaki değerler statu değerleri "PROCESSED" = İşlem tamamlandı  ve “IN_QUEUE” = İşleniyor  “REJECT” =  Task işlenmemiştir.


Örnek Request

{
    "taskId": 362,
    "pageable": {
        "page": 0,
        "size": 1000
    }
}

Örnek Response

{
    "taskId": 1095,
    "skus": {
        "content": [
            {
                "id": 1585,
                "taskId": 1095,
                "ownerId": 2770263,
                "itemCode": "1234567m",
                "status": "SUCCESS",
                "sku": {
                    "salePrice": 1100.00,
                    "listPrice": 1200.00,
                    "currencyType": "TL",
                    "reasons": [
                        "Başarıyla tamamlandı."
                    ],
                    "stock": 9
                },
                "reasons": [
                    "Başarıyla tamamlandı."
                ]
            }
        ]
,
        "pageable": {
            "sort": {
                "empty": true,
                "sorted": false,
                "unsorted": true
            },
            "offset": 0,
            "pageNumber": 0,
            "pageSize": 100000,
            "paged": true,
            "unpaged": false
        },
        "last": true,
        "totalElements": 1,
        "totalPages": 1,
        "sort": {
            "empty": true,
            "sorted": false,
            "unsorted": true
        },
        "first": true,
        "number": 0,
        "numberOfElements": 1,
        "size": 100000,
        "empty": false
    },
    "createdDate": "12-08-2024 06:12:05",
    "modifiedDate": "12-08-2024 06:12:11",
    "status": "PROCESSED"
}



Satıcı Ürünlerini Listeleme (GetProductQuery)
GET https://api.n11.com/ms/product-query 
Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
HTTP isteğinizi 'GET' methoduyla ilgili endpoint'e gönderin.
Dikkat Edilmesi Gerekenler;
Request parametrelerinde zorunluluk yer almamaktadır, parametreler boş olacak şekilde listeleme yapabilirsiniz. Hiçbir parametre girilmediğinde satıcının tüm ürünleri page 0 size 20 olacak şekilde listelenecektir.

stockCode parametresi her istekte tek bir değer alabilmektedir, birden fazla ürün listelemek için satıcı stok kodu bazlı istek atmanız gerekmektedir.

Pagination yapısı kullanıyorsanız page 0 başlatarak responsede dönen totalPages alanını dikkate alarak content boş dönen sayfayı son sayfa olarak belirleyebilirsiniz.

Response Body içerisindeki parametre değerleri karakter sayısı ve veri tipleri sipariş sayısının doğal artışıyla beraber değişebilmektedir ( Örneğin n11ProductId alanı 9 haneden 10 haneye çıkabilir, entegratör üzerinde tanımlama yapılırken bu durumlar göz önünde bulundurulması sağlıklı olacaktır ).
Parametre	Parametre Değer	Açıklama	Tip
id	N11 Ürün Kodu	N11 Ürün kodu ile listeleme	long
productMainId	Grup Kodu	Ürün grup kodu ile listeleme	string
stockCode	Satıcı Ürün Kodu	Satıcı ürün kodu ile listeleme	string
saleStatus	Before_Sale, On_Sale, Out_Of_Stock, Sale_Closed	Ürün satış durumuna göre listeleme	string
productStatus	Active, InCatalogApproval, Suspended, CatalogRejected, Unlisted, Prohibited, InApproval	Ürün onay durumuna göre listeleme	string
brandName	Marka ismi	N11 Satıcı panelinde yer alan ürünleri marka ismine göre listelemesini sağlar	string
categoryIds	Kategori ID bilgisi	Kategori ID ile listeleme	long list
page	Varsayılan 0	 	int
size	Varsayılan 20 maksimum 250	 	int

Parametre(Cevap)	Açıklama
n11ProductId	N11 Ürün Kodu
sellerId	Mağaza ID
sellerNickname	Mağaza Adı
stockCode	Satıcı Stok Kodu
title	Ürün Adı
description	Ürün açıklaması
categoryId	Kategori ID
productMainId	Model Kodu
status	Ürün Aktifliği
saleStatus	Satış Durumu
preparingDay	Kargo Hazırlık Süresi
shipmentTemplate	Kargo Şablonu
maxPurchaseQuantity	Maksimum Satın Alım Adedi
customTextOptions	Müşteriye Özel Ürün Seçeneği
catalogId	Ürün Katalog ID
barcode	Barkod
currencyType	Para Birimi
salePrice	Satış Fiyatı
listPrice	Liste Fiyatı
quantity	Stok Adedi
attributes	Ürün Özellikleri
imageUrls	Görsel Linkleri
vatRate	KDV Oranı
commissionRate	Komisyon Oranı
totalElements	Toplam Ürün Sayısı
totalPages	Toplam Sayfa Sayısı
number	Mevcut Sayfa Numarası
numberOfElements	Sayfadaki Ürün Sayısı
size	Listelenen Ürün Adedi




Satıcı ürünlerini listeleme
Örnek Request
GET : https://api.n11.com/ms/product-query?id=&productMainId=&stockCode=&saleStatus=&productStatus=&brandName=&categoryIds=
Örnek Response
{
    "content": [
        {
            "n11ProductId": 123456789,
            "sellerId": 9876543,
            "sellerNickname": testMagaza,
            "stockCode": "TestSKU123",
            "title": "Test Ürünü Kontrol Amaçlı Gri",
            "description": "Açıklama bilgisi uzun açıklama",
            "categoryId": 1231231,
            "productMainId": "GrupKoduModellemeİçin",
            "status": "Active",
            "saleStatus": "On_Sale",
            "preparingDay": 3,
            "shipmentTemplate": "1",
            "maxPurchaseQuantity": 5,
            "customTextOptions": [],
            "catalogId": 987654321,
            "barcode": null,
            "groupId": 12345678,
            "currencyType": "TL",
            "salePrice": 10000.0,
            "listPrice": 10000,
            "quantity": 2,
            "attributes": [
                {
                    "attributeId": 1,
                    "attributeName": "Marka",
                    "attributeValue": "Diğer"
                },
                {
                    "attributeId": 429,
                    "attributeName": "Renk",
                    "attributeValue": "Gri"
                },
                {
                    "attributeId": 845,
                    "attributeName": "Ölçüler",
                    "attributeValue": "0.5 CMx 1 M"
                }
            ],
            "imageUrls": [
                "https://n11scdn3.akamaized.net/a1/org/07/76/32/73/IMG-4395477787604309691.jpg"
            ],
            "vatRate": 10,
            "commissionRate": 8
        }
    ],
    "pageable": {
        "sort": null,
        "pageNumber": 0,
        "pageSize": 20,
        "offset": 0,
        "paged": true,
        "unpaged": false
    },
    "last": true,
    "totalElements": 1,
    "totalPages": 1,
    "first": true,
    "number": 0,
    "sort": null,
    "numberOfElements": 1,
    "size": 20,
    "empty": false
}




Kategori Ağacı Listeleme (GetCategories)

GET https://api.n11.com/cdn/categories

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
GetCategories kullanırken herhangi bir parametre gerekmemektedir.
Tüm n11 kategori ağacını tek istekle alabilmektesiniz.
Ürün açma servisinde en alt kırılım olan kategori id değerleri iletilmelidir.
subCategories değerinin null dönmesi o kategorinin en alt kırılım olduğunu ifade etmektedir.

























Kategori Özellikleri Listeleme (GetCategoryAttributesList)

GET https://api.n11.com/cdn/category/{categoryId}/attribute 
Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
HTTP isteğinizi 'GET' methoduyla ilgili endpoint'e gönderin.
Bu serviste Request parametre yer almamaktadır, endpoint içerisindeki categoryId değerine göre kategori özelinde listeleme yapılmaktadır.
 
Dikkat Edilmesi Gerekenler;

Endpoint içerisinde yer alan {categoryId} alanını GetCategories servisinden GET : https://api.n11.com/cdn/categories requesti ile çağırdığınız kategori listesinde yer alan “id” parametresindeki değer ile değiştirerek ilgili kategori attributelerini listeleyebilirsiniz.
Response body alanında ilgili kategoriye ait attribute id, attribute value ve attribute value id bilgilerini görüntüleyebilirsiniz.
isMandatory : true olan attributeleri zorunludur, CreatProduct servisinde ürün bazlı göndermeniz gerekmektedir.
isVariant : true olan attribute için CreateProduct servisinde ürünlere aynı productMainId eklenirse aynı sayfada ürün seçeneği şeklinde gözükür.


Örnek Request

GET https://api.n11.com/cdn/category/1002571/attribute

Örnek Response
 
{
    "id": 1002571,
    "name": "Makyaj Çantası",
    "categoryAttributes": [
        {
            "attributeId": 1,
            "categoryId": 1002571,
            "attributeName": "Marka",
            "isMandatory": true,
            "isVariant": false,
            "isSlicer": false,
            "isCustomValue": true,
            "isN11Grouping": false,
            "attributeOrder": 1000,
            "attributeValues": [
                {
                    "id": 8372688,
                    "value": "Abay"
                },
                {
                    "id": 6655098,
                    "value": "Abbagift"
                },
                {
                    "id": 1229210,
                    "value": "Albatros"
                }
            ]
        },
        {
            "attributeId": 429,
            "categoryId": 1002571,
            "attributeName": "Renk",
            "isMandatory": true,
            "isVariant": true,
            "isSlicer": true,
            "isCustomValue": true,
            "isN11Grouping": false,
            "attributeOrder": 102,
            "attributeValues": [
                {
                    "id": 8773717,
                    "value": "Ahşap Rengi"
                },
                {
                    "id": 2523534,
                    "value": "Altın"
                },
                {
                    "id": 8773712,
                    "value": "Altın - Beyaz"
                }
            ]
        }
    ]
}

Sipariş Listeleme (GetShipmentPackages)

GET https://api.n11.com/rest/delivery/v1/shipmentPackages

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
Servise 1 dakika içerisinde maksimum 1000 adet istek atılabilir.
HTTP isteğinizi 'GET' methoduyla ilgili endpoint'e gönderin.

Dikkat Edilmesi Gerekenler;

Status parametresi her istekte tek bir değer alabilmektedir, birden fazla statü listelemek için statü bazlı istek atmanız gerekmektedir.
2024 Kasım öncesi sipariş datası bu servisten verilmemektedir.
Pagination yapısı kullanıyorsanız page 0 başlatarak responsede dönen totalPages alanını dikkate alarak content boş dönen sayfayı son sayfa olarak belirleyebilirsiniz.
Bu servisten dönen sonuçlar son güncelleme tarihine göre sıralanacaktır, sıralamayı orderByDirection parametresini kullanarak DESC ( Yeniden eskiye ) ya da ASC ( Eskiden yeniye ) değeriyle listeleme yapabilirsiniz.
Response Body içerisindeki parametre değerleri karakter sayısı ve veri tipleri sipariş sayısının doğal artışıyla beraber değişebilmektedir ( Örneğin orderNumber alanı 12 haneden 13 haneye çıkabilir, entegratör üzerinde tanımlama yapılırken bu durumlar göz önünde bulundurulması sağlıklı olacaktır ).
Yalnızca startDate alanı girildiyse, girilen startDate'den sonraki 1 aylık kayıtlar listelenir.
Yalnızca endDate alanı girildiyse, girilen endDate'den önceki 1 aylık kayıtlar listelenir.
StartDate ve endDate alanları girilmiş fakat iki tarih arasında çok fazla fark varsa ( Örnek olarak 6 ay ya da 2 yıl gibi ) girilen endDate'den önceki son 1 aylık kayıtlar listelenecektir.
Fatura edilecek toplam tutar için lines bloğundaki sellerInvoiceAmount alanını baz alabilirsiniz, bu alan ürün bazlı döneceğinden ürün sayısına göre dönen sellerInvoiceAmount alanlarını toplayarak sonuca ulaşabilirsiniz.
Sipariş hesaplama denklemi için line bazlı (price*quantity) - totalSellerDiscountPrice formülünü kullanabilirsiniz.
Response body alanında, lines bloğunda ürün bazlı detaylar dönmektedir, aşağıda yer alan cevap parametrelerine lines alanı bold olarak belirtilmiştir.
Siparişleri paket güncelleme tarihine göre listelemek istiyorsanız orderByField parameterisin true göndererek tarih parametrelerini kullanabilirsiniz, örneğin startDate alanında başlangıç tarihi ve orderByField true göndererek belirttiğiniz tarih itibariyle paketleri son güncelleme tarihine göre listeleyebilirsiniz.
Konuma Özel Teslimat siparişlerinde Paket Numarası ( id parametresi ) null dönmektedir. Kargolama süreci satıcıya ait olup, n11 satıcı paneli üzerinden yönetilebilmektedir.
Satıcı özelinde kampanya dahilinde komisyon indirimi yer alabilmektedir, ürün komisyon tutarı hesaplıyorsanız commissionRate - sellerCampaignCommissionRate formülünden kalan değer üzerinden ürün komisyon oranına ulaşabilirsiniz.


Parametre	Parametre Değer	Açıklama	Tip
startDate	 Timestamp (milliseconds) ve GMT +3 olarak gönderilmelidir.	Belirtilen tarihten sonraki siparişleri getirir.	long ( timestamp )
endDate	Timestamp (milliseconds) ve GMT +3 olarak gönderilmelidir.	Belirtilen tarihe kadar olan siparişleri getirir.	long ( timestamp )
page	 	Sadece belirtilen sayfadaki bilgileri döndürür	int
size	Maksimum 100	Bir sayfada listelenecek maksimum adeti belirtir.	int
orderNumber	 	Sipariş numarası ile sorgulama yapılır.	string
packageIds	 	Paket numarası ile sorgulama yapılır.	string
status	Created, Picking, Shipped, Cancelled, Delivered, UnPacked, UnSupplied	Belirtilen statülere göre siparişleri getirir.	string
orderByDirection	ASC	Eskiden yeniye doğru sıralar.	string
	DESC	Yeniden eskiye doğru sıralar.	string




Parametre(Cevap)	Açıklama
billingAddress	Fatura adresi
billingAddress.invoiceType	Fatura tipi, 1: Bireysel 2: Kurumsal
shippingAddress	Teslimat adresi
orderNumber	Sipariş numarası
id	Paket numarası
customerEmail	Alıcı mail adresi
customerfullName	Alıcı ad soyad
customerId	Alıcı ID bilgisi
taxId	Vergi no
taxOffice	Vergi dairesi
tcIdentityNumber	TC kimlik numarası
cargoSenderNumber	Kargo takip numarası
cargoTrackingNumber	Kargo barkod numarası / Kargo kampanya kodu
cargoTrackingLink	Kargo takip linki
shipmentCompanyId	Kargo firma id ( GetShipmentCompanies metodu ile listelenebilir )
cargoProviderName	Kargo firma ünvanı ( GetShipmentCompanies metodu ile listelenebilir )
shipmentMethod	Kargo yöntemi, 1: Kargo 2: Diğer ( dijital, hediye, online teslimat )
installmentChargeWithVATprice	KDV dahil vade farkı
lines	Sipariş ürün satırları ( Sipariş ürün bilgilerinin tamamını görüntüleyebilirsiniz )
 quantity	Sipariş ürün adedi
 productId	N11 ürün kodu
 productName	Ürün adı
 stockCode	Satıcı ürün kodu
 variantAttributes	Ürün varyant özellikleri
 customTextOptionValues	Müşteriye özel ürün seçeneği
 price	Sipariş ürün birim fiyatı ( indirimler hariç )
 dueAmount	Tahsil edilecek tutar
 installmentChargeWithVAT	KDV dahil vade farkı ( ürün bazlı )
 sellerCouponDiscount	Mağaza kupon indirimi
 sellerDiscount	Mağaza indirimi
    sellerCampaignCommissionDiscount	Kampanyalı komisyon indirim tutarı
 sellerInvoiceAmount	Mağaza fatura tutarı
 totalSellerDiscountPrice	Mağaza indirim toplamı
 mallDiscount	Ürün ile ilgili N11 indirimi
 totalMallDiscountPrice	N11 indirimleri toplamı
 orderLineId	Sipariş ürün ID
 orderItemLineItemStatusName	Sipariş ürün statüsü
    vatRate	Sipariş ürün KDV oranı
    commissionRate	Sipariş ürün komisyon oranı
    taxDeductionRate	Sipariş ürün vergi kesinti oranı
    totalLaborCostExcludingVAT	Sipariş ürün işçilik ücreti
    netMarketingFeeRate	Pazarlama hizmet bedeli oranı
    netMarketplaceFeeRate	Pazaryeri hizmet bedeli oranı
    barcode	Ürün barkodu
lastModifiedDate	Sipariş son hareket tarihi
agreedDeliveryDate	Sipariş onaylanma tarihi
totalAmount	Toplam tutar
totalDiscountAmount	Toplam indirim tutarı
packageHistories	Paket geçmişi ( Paketin geçmiş statülerini tarih bazlı görüntüleyebilirsiniz )
shipmentPackageStatus	Sipariş statüsü
sellerId	Satıcı ID bilgisi


Sipariş listeleme

Örnek Request
GET  https://api.n11.com/rest/delivery/v1/shipmentPackages?startDate={startDate}&endDate={endDate}&status=Created&orderNumber={orderNumber}&packageIds={id}&page=0&size=100&orderByDirection=ASC

Yukarıdaki isteği orderNumber ve packageIds parametrelerini kaldırarak GET metodunda çağırdığınızda, startDate ve endDate parametrelerinde girilen tarih aralığındaki Created statülü 1. sayfadaki hareket tarihi eskiden yeniye 100 adet sipariş listelenecektir.
orderNumber (Sipariş Numarası) ve packageIds (Paket Numarası) parametrelerini birlikte ya da ayrı ayrı kullanarak sipariş çağırabilirsiniz.

Dökümandaki request parametrelerine göre özelleştirmeler yapabilirsiniz.

Örnek Response

{
    "pageCount": 1,
    "totalPages": 1,
    "page": 0,
    "size": 100,
    "content": [
        {
            "billingAddress": {
                "address": "Reşitpaşa Mah İstanbul Teknik Üniversitesi Teknokent Arı 3 4/a-3 D:8-9, 34485 Sarıyer/İstanbul",
                "city": "İstanbul",
                "district": "Sarıyer",
                "neighborhood": "Reşitpaşa",
                "fullName": "N11 müşteri",
                "gsm": "5xxxxxxxxx",
                "tcId": "11111111111",
                "postalCode": "34000",
                "taxId": null,
                "taxHouse": null,
                "invoiceType": 1
            },
            "shippingAddress": {
                "address": "Reşitpaşa Mah İstanbul Teknik Üniversitesi Teknokent Arı 3 4/a-3 D:8-9, 34485 Sarıyer/İstanbul",
                "city": "İstanbul",
                "district": "Sarıyer",
                "neighborhood": "Reşitpaşa",
                "fullName": "N11 müşteri",
                "gsm": "5xxxxxxxxx ",
                "tcId": "11111111111",
                "postalCode": "34000"
            },
            "orderNumber": "203872347637",
            "id": "112999455244259",
            "customerEmail": "n11@n11.com",
            "customerfullName": "N11 müşteri",
            "customerId": 12345678,
            "taxId": "",
            "taxOffice": "",
            "tcIdentityNumber": "11111111111",
            "cargoSenderNumber": null,
            "cargoTrackingNumber": "112999455244259",
            "cargoTrackingLink": "",
            "shipmentCompanyId": 342,
            "cargoProviderName": "MNG Kargo",
            "shipmentMethod": 1,
            "installmentChargeWithVATprice": 0.00,
            "lines": [
                {
                    "quantity": 2,
                    "productId": 123456789,
                    "productName": "Erkek Spor Ayakkabı Bordo 45",
                    "stockCode": "20242024",
                    "variantAttributes": [
                        {
                            "name": "Numara",
                            "value": "45"
                        },
                        {
                            "name": "Renk",
                            "value": "Bordo"
                        }
                    ],
                    "customTextOptionValues": [],
                    "price": 292.8,
                    "dueAmount": 536.20,
                    "installmentChargeWithVAT": 0,
                    "sellerCouponDiscount": 0,
                    "sellerDiscount": 2.9,
                    "mallDiscount": 43.60,
                    "sellerInvoiceAmount": 579.8,
                    "totalMallDiscountPrice": 43.60,
                    "orderLineId": 415490391,
                    "orderItemLineItemStatusName": "Picking",
                    "totalSellerDiscountPrice": 5.8,
                    "vatRate": 10,
                    "commissionRate": 9,
                    "taxDeductionRate": 1,
                    "totalLaborCostExcludingVAT": 0,
                    "netMarketingFeeRate": 1.2,
                    "netMarketplaceFeeRate": 0.8
                },
                {
                    "quantity": 3,
                    "productId": 123456799,
                    "productName": " Erkek Klasik Ayakkabı Kahverengi 42",
                    "stockCode": "202420241",
                    "variantAttributes": [
                        {
                            "name": "Numara",
                            "value": "42"
                        },
                        {
                            "name": "Renk",
                            "value": "Kahverengi"
                        }
                    ],
                    "customTextOptionValues": [],
                    "price": 250,
                    "dueAmount": 693.60,
                    "installmentChargeWithVAT": 0,
                    "sellerCouponDiscount": 0,
                    "sellerDiscount": 0,
                    "mallDiscount": 28.20,
                    "sellerInvoiceAmount": 750,
                    "totalMallDiscountPrice": 56.40,
                    "orderLineId": 415490390,
                    "orderItemLineItemStatusName": "Picking",
                    "totalSellerDiscountPrice": 0,
                    "vatRate": 10,
                    "commissionRate": 9,
                    "taxDeductionRate": 1,
                    "totalLaborCostExcludingVAT": 0,
                    "netMarketingFeeRate": 1.2,
                    "netMarketplaceFeeRate": 0.8
                }
            ],
            "lastModifiedDate": 1724323386203,
            "agreedDeliveryDate": 1725310828346,
            "totalAmount": 1479.79,
            "totalDiscountAmount": 62.3,
            "packageHistories": [
                {
                    "createdDate": 1724274054460,
                    "status": "Created"
                },
                {
                    "createdDate": 1724274255751,
                    "status": "Picking"
                },
                {
                    "createdDate": 1724274492082,
                    "status": " Shipped"
                },
                {
                    "createdDate": 1724396400000,
                    "status": " Delivered"
                }
            ],
            "shipmentPackageStatus": "Delivered",
            "sellerId": 9876543
        }
    ]
}
































Sipariş Kalemlerini Güncelleme (UpdateOrder)

Bilgilendirme: Şu an için UpdateOrder servisi ile yalnızca Picking status update yapılabilmekte, yani sipariş kalemleri onaylanabilmektedir. Diğer statü güncellemeleri ilerleyen süreçte yayınlanarak bu dökümana eklenecektir.
PUT https://api.n11.com/rest/order/v1/update

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
İsteğinizi json formatında body de raw olarak ve aşağıdaki örnek desende iletiniz.
HTTP isteğinizi ‘PUT’ methoduyla ilgili endpoint'e gönderin.
Dikkat Edilmesi Gerekenler:
GetShipmentPackages servisinden statüsü Created dönen itemleri bu servisten güncelleyebilirsiniz.
Request içerisinde yer alan lineId lerden hatalı ya da status uygun olmayanlar için hata mesajı dönerek, kalan lineId ler işleme alınmaktadır.
lineId parametresinde gönderilecek değer için GetShipmentPackages servisinden dönen orderLineId alanı baz alınmalıdır.
Request içerisinde birden fazla lineId gönderilebilmektedir, status alanı tek olmalıdır. Bu sayede Body içerisindeki lineId leri gönderilen status e göre güncelleyecektir.
Servisi kullanmadan otomatik onay yapılmasını isteyen satıcılar sellerintegration@n11.com mail grubuna mail atabilir.

Parametre	Parametre Değer	Açıklama	Tip
lineId	 	Onaylanacak item Id bilgisi	integer
status	Picking	Onaylandı statüsü	string



Örnek Request ( Tekil )

PUT https://api.n11.com/rest/order/v1/update 
{
    "lines": [
        {
            "lineId": 426659152
        }
    ],
    "status": "Picking"
}


Örnek Response ( Tekil )
 
{
    "content": [
        {
            "lineId": 426659152,
            "status": "SUCCESS",
            "reasons": "Başarıyla tamamlandı."
        }
    ]
}



Örnek Request ( Çoklu )

PUT https://api.n11.com/rest/order/v1/update 
{
    "lines": [
        {
       "lineId": 426659152
        },
        {
      		"lineId": 426659151
        }
    ],
    "status": "Picking"
}


Örnek Response ( Çoklu )
 
{
    "content": [
        {
            "lineId": 426659152,
            "status": "SUCCESS",
            "reasons": "Başarıyla tamamlandı."
        },
        {
            "lineId": 426659151,
            "status": "SUCCESS",
            "reasons": "Başarıyla tamamlandı."
        }
    ]
}





































Paket Bölme (SplitPackages)

Bilgilendirme: Quantity bazlı paket bölme servisi bir sonraki geliştirmeler ile birlikte yayınlanacaktır, şu anda paket bölme işlemi ürün bazlı yapılmaktadır.

POST https://api.n11.com/rest/delivery/v1/splitCombinePackage 

Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
HTTP isteğinizi 'POST' methoduyla ilgili endpoint'e gönderin.
Serviste parametre bulunmamaktadır, Request Body baz alınmaktadır.

Dikkat Edilmesi Gerekenler;

Siparişler yalnızca Picking statüsünde bölünebilmektedir, Created statülü siparişler bölünemez.
Bölünen ana sipariş statüsü Unpacked olarak güncellenip, bölünmüş paketler Picking statüsünde oluşmaktadır.
Oluşan paketler aynı orderNumber, farklı id ( paket numarası ) ve farklı cargoTrackingNumber ( kargo kampanya kodu ) ile oluşmaktadır.
Body içerisindeki orderLineId bilgisine GetShipmentPackages servisinden ürün bazlı ulaşabilirsiniz.
Body içerisinde gönderilen orderLineId haricindeki ürünler otomatik olarak yeni bir pakette ayrıca oluşacaktır.
Bölünen paketler, birden fazla ürün mevcut ise tekrardan bölünebilmektedir.
Body içerisinde oluşturmak istediğiniz paketlere göre JSON bloğunda istekler gönderebilirsiniz. Aşağıda Request örnekleri mevcuttur.





Örnek Request ( Tekil )
POST https://api.n11.com/rest/delivery/v1/splitCombinePackage
{
    "splitGroups": [
        {
            "orderLineIds": [
                xxxxxxxx1
            ]
        }
    ]
}

Örnek Response ( Tekil )
 
{
    "code": 200,
    "message": "success"
}



Birden Fazla Ürün ( Aynı Pakette olacaksa ) Paket Bölme
Örnek Request ( Çoklu )

POST https://api.n11.com/rest/delivery/v1/splitCombinePackage
{
    "splitGroups": [
        {
            "orderLineIds": [
                xxxxxxxx1,
                xxxxxxxx2
            ]
        }
    ]
}


Örnek Response ( Çoklu )
 
{
    "code": 200,
    "message": "success"
}


Birden Fazla Ürün ( Farklı Pakette olacaksa ) Paket Bölme
Örnek Request ( Çoklu )

POST https://api.n11.com/rest/delivery/v1/splitCombinePackage
{
    "splitGroups": [
        {
            "orderLineIds": [
                xxxxxxxx1
            ]
        },
        {
            "orderLineIds": [
                xxxxxxxx2
            ]
        }
    ]
}


Örnek Response ( Çoklu )
 
{
    "code": 200,
    "message": "success"
}



Sipariş Kalemi İşçilik Bedeli Ekleme

PUT https://api.n11.com/rest/order/v1/labor-costs
Authorization no auth seçiniz.
Headers alanına appkey ve appsecret bilgisini eklemeniz gerekir.
HTTP isteğinizi 'PUT' methoduyla ilgili endpoint'e gönderin.
İsteğinizi JSON formatında body de raw olarak ve aşağıdaki örnek desende iletiniz.

Dikkat Edilmesi Gerekenler;

İsteğinizi JSON formatında body de raw olarak ve aşağıdaki örnek desende iletiniz.
orderLineId parametresinde gönderilecek değer için GetShipmentPackages servisinden dönen orderLineId alanı baz alınmalıdır.
Request içerisinde birden fazla orderLineId gönderilebilmektedir.
İşçilik KDV oranı varsayılan değer 20'dir. laborVatRate parametresi null ya da gönderilmediği taktirde 20 olarak baz alınacaktır.

Not : Girilen işçilik tutarına ve KDV oranın bağlı olarak hesaplama sonucu amountExcludingVAT alanında verilmektedir, Item bazlı KDV hariç birim fiyat - İşçilik Bedeli KDV tutarı formülü ile tutar hesaplanmaktadır.

Parametre	Açıklama	Tip
orderLineId	İşçilik bedeli eklenecek sipariş ürün Id bilgisi	long
totalLaborCostExcludingVAT	KDV hariç işçilik bedeli	amount
laborVatRate	İşçilik bedeli KDV oranı 0,1,10,20 değerlerini alabilir	integer






Örnek Request ( Tekil )

PUT https://api.n11.com/rest/order/v1/labor-costs
{
    "laborCostDetails": [
        {
            "orderLineId": 434361111,
            "totalLaborCostExcludingVAT": 100,
            "laborVatRate": 20
        }
    ]
}
Örnek Response ( Tekil )
 
{
  "content": [
    {
      "lineId": 434361111,
      "status": "SUCCESS",
      "reasons": "İşçilik Ekleme Başarıyla Tamamlandı.",
      "details": {
        "totalLaborCostExcludingVAT": 100,
        "laborVatRate": 20,
        "amountExcludingVAT": 72538.58
      }
    }
  ]
}

Örnek Request ( Çoklu )

PUT  https://api.n11.com/rest/order/v1/labor-costs
{
    "laborCostDetails": [
        {
            "orderLineId": 434713839,
            "totalLaborCostExcludingVAT": 352.17,
            "laborVatRate": 10
        },
        {
            "orderLineId": 434708601,
            "totalLaborCostExcludingVAT": 200,
            "laborVatRate": 20
        }
    ]
}
Örnek Response ( Çoklu )
 
{
    "content": [
        {
            "lineId": 434713839,
            "status": "SUCCESS",
            "reasons": "İşçilik Ekleme Başarıyla Tamamlandı.",
            "details": {
                "totalLaborCostExcludingVAT": 352.17,
                "laborVatRate": 10,
                "amountExcludingVAT": 108548.79
            }
        },
        {
            "lineId": 434708601,
            "status": "SUCCESS",
            "reasons": "İşçilik Ekleme Başarıyla Tamamlandı.",
            "details": {
                "totalLaborCostExcludingVAT": 200,
                "laborVatRate": 20,
                "amountExcludingVAT": 6441.34
            }
        }
    ]
}


